<h3 class="mt-4">Ajouter un livre</h3>

<form [formGroup]="infoBook" (ngSubmit)="addBook()">
  <div class="form-group m-2">
    <label>
      Titre:
      <input class="form-control" type="text" formControlName="title">
    </label>
    @if (submitted && infoBook.controls['title'].invalid) {
    <div class="text-danger">
      Le titre est requis
    </div>
  }
  </div>

  <button class="btn btn-info m-2" type="button" (click)="showAuthorAddForm = !showAuthorAddForm">
    {{ showAuthorAddForm ? 'Annuler l\'ajout de l\'auteur' : 'Ajouter un auteur' }}
  </button>

  <div class="m-2">
    @if (showAuthorAddForm) {
    <app-author-add (authorAdded)="onAuthorAdded($event)"></app-author-add>
  }
  </div>


  <div class="form-group m-2">
    <label>
      CoverText:
      <input class="form-control" type="text" formControlName="coverText">
    </label>
  </div>

  <div class="form-group m-2">
    <label>
      Commentaire:
      <input class="form-control" type="text" formControlName="comment">
    </label>
  </div>

  <button class="btn btn-primary m-3" type="submit">Ajouter un livre</button>
</form>

<div class="m-3">
<a routerLink="/panel"  class="btn btn-secondary">Retourner au panel</a>
</div>
